<!DOCTYPE html>
<html lang="en">

<title>PHYS S-12: Output Devices</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../style.css" rel="stylesheet">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
  
<nav class="navbar navbar-expand-sm navbar-light bg-light">
  <div style="align-items: left; justify-content:left;" class="container-fluid">
    <h3 class="nav-title"> PHYS S-12: Output Devices</h3>
    <div class="navbar-nav">
      <h4></h4>
      <h4><a class="nav-link" href="../index.html">Home</a></h4>
      <h4><a class="nav-link" href="../about.html">About</a></h4>
    </div>
  </div>
</nav>

<body>

<xmp style="display:none;">
<br> 

#### Class 7: Output Devices
  
 For the 13th’s assignment, I choose a piezo buzzer as my output device and programed it to respond to my previous assignment, the capacitive throttle. 
<p><img src=../pictures2/piezo.png height="318"></p>
  
<p>
At first, I focused mainly on the buzzer. Using the resources provided on the course website, I was able to replicate the code provided to compose my own melody while I was in class (though it did not sound too great at first because I do not know much about composing). In labs, after class had ended, I hooked the oscilloscope to the piezo and played the song. Each note was observed on the oscilloscope at a different frequency: the higher the note, the higher frequency measured in Hertz. Basically, if the note had a higher pitch, the scope read a shorter wavelength and a higher frequency. My melody is not a fixed clock because the frequency changes between a low note of 200hz to a high note of 900hz. </p>
  <p>
    <video width="380" height="250" controls>
  <source src="../pictures2/Oscilloscope.MOV" type="video/mp4">
</video>
</p>


<p>    
</p>
  <p>Over the weekend, I took the piezo buzzer home and kept fiddling with my song melody. Eventually, I had the idea to play an old Scottish melody, the Skye Boat Song, one of my mom’s favorites. First, I figured out the numbers that corresponded with each note length: half = 2, ¼ = 4, 1/8 =8, and all dotted notes are negative. From there, looked up the simple sheet music online and then transcribed it into my notes. Finally, I connected each note to the correct time duration. I had to ask some of my friends who know music theory for help on this part because I did not the specific names for each note. When I attempted this by myself a few of the notes sounded very off. Below is the sheet music I transcribed, the videa of the buzzer playing, and the code I wrote.</p>
<p> 
<img src=../pictures2/sheet_music.png height="318">


  
  <p>To calibrate the minimum and maximum of my sensor, I hooked up the throttle to my Arduino Uno. From there I conducted 2 trials. In both trials, I added the stated grams of pressure and compared it to the serial plotter, taking the average for each point. Finally, I concluded that the closer the popsicle sticks press the copper together, the higher the signal it reads.</p>

  <p>
    <img src=../pictures2/throttle_data.png width="422" height="318">
   </p>
    <p>
   <video width="380" height="250" controls>
  <source src="../pictures2/throttle.mov" type="video/mp4">
</video>
  <!--throttle video-->
    </p>
  
  <p>
  <pre><code class="language-arduino">
 //Code for Throttle:

long result;   //variable for the result of the tx_rx measurement.
int analog_pin = A3;
int tx_pin = 4;

void setup() {
    pinMode(tx_pin, OUTPUT);      //Pin 4 provides the voltage step
    Serial.begin(9600);
}

void loop() {
    result = tx_rx();
    Serial.println(result);
}

long tx_rx(){         // Function to execute rx_tx algorithm and return a value
                      // that depends on coupling of two electrodes.
                      // Value returned is a long integer.
  int read_high;
  int read_low;
  int diff;
  long int sum;
  int N_samples = 100;    // Number of samples to take.  Larger number slows it down, but reduces scatter.

  sum = 0;

  for (int i = 0; i < N_samples; i++){
   digitalWrite(tx_pin,HIGH);              // Step the voltage high on conductor 1.
   read_high = analogRead(analog_pin);     // Measure response of conductor 2.
   delayMicroseconds(100);                 // Delay to reach steady state.
   digitalWrite(tx_pin,LOW);               // Step the voltage to zero on conductor 1.
   read_low = analogRead(analog_pin);      // Measure response of conductor 2.
   diff = read_high - read_low;            // desired answer is the difference between high and low.
   sum += diff;                            // Sums up N_samples of these measurements.
 }
  return sum;
}                                          // End of tx_rx function.

  </code></pre>
</p>


  
</xmp>
</body>

<script src="../strapdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>

</html>
